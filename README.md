# å°é»ƒæ¨™ - Threads User Location Tag

<p align="center">
  <strong>å¯ä»¥å°‡ Threads ç”¨æˆ¶æ‰€åœ¨åœ°è³‡è¨Šï¼Œè‡ªå‹•é¡¯ç¤ºåœ¨å°é»ƒæ¨™ç±¤ä¸Š</strong><br>
  <em>Automatically extracts and reveals location-related text from Threads posts for quick identification</em>
</p>

---

## ğŸ“– ç°¡ä»‹ | Introduction

**å°é»ƒæ¨™** æ˜¯ä¸€æ¬¾ Chrome ç€è¦½å™¨æ“´å……åŠŸèƒ½ï¼Œå¯ä»¥è‡ªå‹•åµæ¸¬ä¸¦é¡¯ç¤º Threads ç”¨æˆ¶çš„æ‰€åœ¨åœ°å€è³‡è¨Šã€‚é€éé†’ç›®çš„æ¨™ç±¤è¨­è¨ˆï¼Œè®“æ‚¨å¿«é€Ÿè­˜åˆ¥ç”¨æˆ¶ä¾†è‡ªå“ªå€‹åœ‹å®¶æˆ–åœ°å€ã€‚

**Threads User Location Tag** is a Chrome browser extension that automatically detects and displays the location information of Threads users. With eye-catching label designs, you can quickly identify which country or region a user is from.

---

## âœ¨ åŠŸèƒ½ç‰¹è‰² | Features

### ğŸ·ï¸ è‡ªå‹•æ¨™ç±¤é¡¯ç¤º | Auto Label Display
- åœ¨æ¯ä½ç”¨æˆ¶åç¨±æ—è‡ªå‹•åŠ å…¥æ‰€åœ¨åœ°æ¨™ç±¤
- Automatically adds location tags next to each username

### ğŸ” ä¸€éµæŸ¥è©¢ | One-Click Query
- é»æ“Šã€ŒæŸ¥è©¢ã€æŒ‰éˆ•ï¼Œè‡ªå‹•é–‹å•Ÿæ–°åˆ†é æŸ¥è©¢ç”¨æˆ¶ä½ç½®
- Click the "Query" button to automatically open a new tab and query user location

### ğŸ¨ é¡è‰²å€åˆ† | Color Coding
- **ç¶ è‰² Green**: å°ç£ Taiwan
- **ç´…è‰² Red**: ä¸­åœ‹ China
- **ç²‰ç´…è‰² Pink**: å…¶ä»–åœ‹å®¶/åœ°å€ Other countries/regions
- **ç°è‰² Gray**: æœªæ­éœ² Not disclosed
- **é»ƒè‰² Yellow**: å¾…æŸ¥è©¢ Pending query

### ğŸ’¾ æœ¬æ©Ÿå¿«å– | Local Cache
- æŸ¥è©¢çµæœè‡ªå‹•å„²å­˜æ–¼æœ¬æ©Ÿï¼Œé¿å…é‡è¤‡æŸ¥è©¢
- Query results are automatically saved locally to avoid repeated queries

### âš¡ è‡ªå‹•æŸ¥è©¢æ¨¡å¼ | Auto Query Mode
- å¯é–‹å•Ÿè‡ªå‹•æŸ¥è©¢åŠŸèƒ½ï¼Œæ‰¹æ¬¡è™•ç†å¤šä½ç”¨æˆ¶
- Enable auto-query feature to batch process multiple users

---

## ğŸ“¥ å®‰è£æ–¹å¼ | Installation

### é–‹ç™¼è€…æ¨¡å¼å®‰è£ | Developer Mode Installation

1. **ä¸‹è¼‰å°ˆæ¡ˆ | Download the project**
   ```bash
   git clone https://github.com/GeoffSpacetime/threads-geo-tag.git
   ```

2. **é–‹å•Ÿ Chrome æ“´å……åŠŸèƒ½é é¢ | Open Chrome Extensions page**
   - åœ¨ç¶²å€åˆ—è¼¸å…¥ `chrome://extensions/`
   - Enter `chrome://extensions/` in the address bar

3. **å•Ÿç”¨é–‹ç™¼è€…æ¨¡å¼ | Enable Developer Mode**
   - é–‹å•Ÿå³ä¸Šè§’çš„ã€Œé–‹ç™¼è€…æ¨¡å¼ã€é–‹é—œ
   - Toggle on "Developer mode" in the top right corner

4. **è¼‰å…¥æ“´å……åŠŸèƒ½ | Load the extension**
   - é»æ“Šã€Œè¼‰å…¥æœªå°è£é …ç›®ã€
   - Click "Load unpacked"
   - é¸æ“‡ `chrome-extension` è³‡æ–™å¤¾
   - Select the `chrome-extension` folder

---

## ğŸš€ ä½¿ç”¨æ–¹å¼ | Usage

### åŸºæœ¬ä½¿ç”¨ | Basic Usage

1. **é–‹å•Ÿ Threads ç¶²ç«™ | Open Threads website**
   - å‰å¾€ [threads.net](https://www.threads.net)
   - Go to [threads.net](https://www.threads.net)

2. **é–‹å•Ÿå´é‚Šæ¬„ | Open Side Panel**
   - é»æ“Šç€è¦½å™¨å·¥å…·åˆ—ä¸Šçš„æ“´å……åŠŸèƒ½åœ–ç¤º
   - Click the extension icon in the browser toolbar
   - å´é‚Šæ¬„æœƒè‡ªå‹•é–‹å•Ÿï¼Œä¸¦åœ¨é é¢ä¸Šé¡¯ç¤ºç”¨æˆ¶æ‰€åœ¨åœ°æ¨™ç±¤
   - The side panel will open automatically and display location tags on the page

3. **æŸ¥è©¢ç”¨æˆ¶ä½ç½® | Query User Location**
   - é»æ“Šæ¨™ç±¤ä¸Šçš„ã€ŒæŸ¥è©¢ã€æŒ‰éˆ•
   - Click the "Query" button on the tag
   - ç³»çµ±æœƒè‡ªå‹•é–‹å•Ÿæ–°åˆ†é ä¸¦å–å¾—ç”¨æˆ¶æ‰€åœ¨åœ°è³‡è¨Š
   - The system will automatically open a new tab and retrieve the user's location

4. **é—œé–‰åŠŸèƒ½ | Disable Feature**
   - é—œé–‰å´é‚Šæ¬„å³å¯ç§»é™¤æ‰€æœ‰æ¨™ç±¤
   - Close the side panel to remove all tags

### é€²éšåŠŸèƒ½ | Advanced Features

åœ¨å´é‚Šæ¬„ä¸­é»æ“Šã€Œé€²éšåŠŸèƒ½...ã€å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é¸é …ï¼š

Click "é€²éšåŠŸèƒ½..." in the side panel to access the following options:

| åŠŸèƒ½ Feature | èªªæ˜ Description |
|-------------|-----------------|
| **æŸ¥è©¢å¾Œä¿ç•™çµæœåˆ†é ** | ä¿ç•™æŸ¥è©¢æ™‚é–‹å•Ÿçš„åˆ†é ï¼Œæ–¹ä¾¿æŸ¥çœ‹è©³ç´°è³‡è¨Š |
| Keep result tabs | Keep the tabs opened during query for detailed information |
| **è‡ªå‹•æŸ¥è©¢** | è‡ªå‹•æ‰¹æ¬¡æŸ¥è©¢é é¢ä¸Šçš„ç”¨æˆ¶ |
| Auto query | Automatically batch query users on the page |
| **åŒæ™‚æœ€å¤šæŸ¥è©¢åˆ†é æ•¸é‡** | æ§åˆ¶åŒæ™‚é–‹å•Ÿçš„æŸ¥è©¢åˆ†é æ•¸ï¼ˆ1-10ï¼‰ |
| Max concurrent tabs | Control the number of query tabs opened simultaneously (1-10) |
| **é¡¯ç¤º/æ¸…é™¤æœ¬æ©Ÿå¿«å–** | ç®¡ç†å·²å„²å­˜çš„ç”¨æˆ¶æ‰€åœ¨åœ°è³‡æ–™ |
| Show/Clear local cache | Manage saved user location data |

---

## ğŸ”§ æŠ€è¡“æ¶æ§‹ | Technical Architecture

```
chrome-extension/
â”œâ”€â”€ manifest.json       # æ“´å……åŠŸèƒ½è¨­å®šæª” | Extension manifest
â”œâ”€â”€ background.js       # èƒŒæ™¯æœå‹™ | Background service worker
â”œâ”€â”€ content.js          # å…§å®¹è…³æœ¬ï¼ˆæ³¨å…¥é é¢ï¼‰| Content script (injected into pages)
â”œâ”€â”€ queryManager.js     # æŸ¥è©¢ç®¡ç†å™¨ï¼ˆè™•ç† API è«‹æ±‚ï¼‰| Query manager (handles API requests)
â”œâ”€â”€ sidepanel.html      # å´é‚Šæ¬„ä»‹é¢ | Side panel interface
â”œâ”€â”€ sidepanel.js        # å´é‚Šæ¬„é‚è¼¯ | Side panel logic
â”œâ”€â”€ sidepanel.css       # å´é‚Šæ¬„æ¨£å¼ | Side panel styles
â””â”€â”€ icons/              # åœ–ç¤ºè³‡æº | Icon assets
```

### é‹ä½œæµç¨‹ | How It Works

1. **Content Script** æƒæé é¢ä¸Šçš„ Threads ç”¨æˆ¶é€£çµ
   - Scans Threads user links on the page

2. **Side Panel** ç®¡ç†ç”¨æˆ¶ä»‹é¢èˆ‡è¨­å®š
   - Manages user interface and settings

3. **Background Service** è™•ç†è·¨åˆ†é é€šè¨Šèˆ‡æŸ¥è©¢ä»»å‹™
   - Handles cross-tab communication and query tasks

4. **Query Manager** ç®¡ç†æŸ¥è©¢ä½‡åˆ—ã€å¿«å–èˆ‡ä¸¦è¡Œæ§åˆ¶
   - Manages query queue, cache, and concurrency control

---

## ğŸ› é™¤éŒ¯æŒ‡å— | Debugging Guide

è©³ç´°çš„é™¤éŒ¯èªªæ˜è«‹åƒè€ƒ [DEBUG.md](chrome-extension/DEBUG.md)

For detailed debugging instructions, please refer to [DEBUG.md](chrome-extension/DEBUG.md)

### å¿«é€Ÿé™¤éŒ¯ | Quick Debug

| Console ä½ç½® | æ—¥èªŒå‰ç¶´ | ä¾†æºæª”æ¡ˆ |
|-------------|---------|---------|
| é é¢ Console (F12) | `[Threads]`, `[Content]` | content.js |
| Service Worker Console | `[Background]`, `[QueryManager]`, `[Cache]` | background.js, queryManager.js |
| Sidepanel Console | `[Sidepanel]` | sidepanel.js |

---

## ğŸ“‹ ç³»çµ±éœ€æ±‚ | Requirements

- **ç€è¦½å™¨ Browser**: Google Chrome (Manifest V3 æ”¯æ´)
- **ç¶²ç«™ Website**: [threads.net](https://www.threads.net)

---

## ğŸ“„ æˆæ¬Šæ¢æ¬¾ | License

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT License](LICENSE) æˆæ¬Šã€‚

This project is licensed under the [MIT License](LICENSE).

---

## ğŸ¤ è²¢ç» | Contributing

æ­¡è¿æäº¤ Issue æˆ– Pull Requestï¼

Issues and Pull Requests are welcome!

---

## âš ï¸ å…è²¬è²æ˜ | Disclaimer

æœ¬æ“´å……åŠŸèƒ½åƒ…ä¾›å€‹äººä½¿ç”¨ï¼Œè«‹éµå®ˆ Threads çš„æœå‹™æ¢æ¬¾ã€‚æ‰€é¡¯ç¤ºçš„ä½ç½®è³‡è¨Šä¾†è‡ªç”¨æˆ¶å…¬é–‹çš„å€‹äººè³‡æ–™ã€‚

This extension is for personal use only. Please comply with Threads' Terms of Service. The displayed location information comes from users' public profiles.
